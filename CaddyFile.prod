{
    {$CADDY_GLOBAL_OPTIONS}

    frankenphp {
        #worker /path/to/your/worker.php
        {$FRANKENPHP_CONFIG}
    }
}

{$CADDY_EXTRA_CONFIG}

{$SERVER_NAME:localhost} {  # tanpa HTTPS
    root * /app/public/
    encode zstd br gzip

    {$CADDY_SERVER_EXTRA_DIRECTIVES}

    php_server

    tls /etc/caddy/certs/cert-crt.cer /etc/caddy/certs/cert-key.key

    header {
        Strict-Transport-Security "max-age=31536000; includeSubDomains; preload"
    }
}
